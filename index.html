<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floor Data App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .app-container {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            text-align: center;
            width: 100%;
            max-width: 90%;
        }
        .page-container {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        .page-container.active {
            display: flex;
        }
        .btn-primary {
            @apply bg-blue-500 text-white font-bold py-2 px-6 rounded-full transition-transform transform hover:scale-105 shadow-lg;
        }
        .btn-secondary {
            @apply bg-gray-300 text-gray-800 font-bold py-2 px-6 rounded-full transition-transform transform hover:scale-105 shadow-lg;
        }
        th, td {
            @apply px-4 py-2 border border-gray-200 text-sm;
        }
        table {
            @apply w-full border-collapse rounded-lg overflow-hidden my-4;
        }
        thead {
            @apply bg-gray-100;
        }
        .data-input {
            @apply w-16 text-center bg-gray-50 border border-gray-300 rounded-md;
        }
    </style>
</head>
<body>

    <div class="app-container">
        <!-- Main Menu Page -->
        <div id="main-page" class="page-container active">
            <h1 class="text-3xl font-bold mb-6">Welcome</h1>
            <div class="space-y-4 md:space-x-4 md:space-y-0 flex flex-col md:flex-row justify-center w-full">
                <button id="monitor-button" class="btn-primary">Monitor Installation</button>
                <button id="enter-value-button" class="btn-primary">Enter a New Value</button>
            </div>
        </div>

        <!-- Monitor Page -->
        <div id="monitor-page" class="page-container">
            <h2 class="text-2xl font-bold mb-4">Installation Status</h2>
            <div class="overflow-x-auto w-full">
                <table id="monitor-table" class="min-w-full">
                    <thead>
                        <tr>
                            <th>Floor</th>
                            <!-- Columns 1 to 24 -->
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Rows for Floors 8 to 31 -->
                    </tbody>
                </table>
            </div>
            <button id="monitor-back-button" class="btn-secondary mt-6">Back to Main</button>
        </div>

        <!-- Data Entry Page -->
        <div id="data-entry-page" class="page-container">
            <h2 class="text-2xl font-bold mb-4">Enter Values</h2>
            <div class="overflow-x-auto w-full">
                <table id="data-entry-table" class="min-w-full">
                    <thead>
                        <tr>
                            <th>Floor</th>
                            <!-- Columns 1 to 24 -->
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Rows for Floors 8 to 31 -->
                    </tbody>
                </table>
            </div>
            <button id="data-entry-back-button" class="btn-secondary mt-6">Back to Main</button>
        </div>
    </div>

    <script>
        // Data storage object. This will hold all the values.
        // It's initialized to all zeros as per your request.
        let floorData = {};

        // Get page elements
        const mainPage = document.getElementById('main-page');
        const monitorPage = document.getElementById('monitor-page');
        const dataEntryPage = document.getElementById('data-entry-page');
        const monitorTable = document.getElementById('monitor-table');
        const dataEntryTable = document.getElementById('data-entry-table');

        // Get button elements
        const monitorButton = document.getElementById('monitor-button');
        const enterValueButton = document.getElementById('enter-value-button');
        const monitorBackButton = document.getElementById('monitor-back-button');
        const dataEntryBackButton = document.getElementById('data-entry-back-button');

        // --- Core Functions for Application Logic ---

        /**
         * Initializes the floorData object with all values set to "0%".
         * This function is called once at the start of the application.
         */
        function initializeData() {
            for (let floor = 8; floor <= 31; floor++) {
                floorData[floor] = {};
                for (let column = 1; column <= 24; column++) {
                    floorData[floor][column] = "0%";
                }
            }
            console.log("Initial data:", floorData);
        }

        /**
         * Renders the table for the monitor page with the current data.
         * The values are not editable.
         */
        function renderMonitorTable() {
            // Clear existing table content
            monitorTable.innerHTML = '';
            
            // Create table header
            let headerRow = '<tr><th>Floor</th>';
            for (let col = 1; col <= 24; col++) {
                headerRow += `<th>C${col}</th>`;
            }
            headerRow += '</tr>';
            monitorTable.querySelector('thead').innerHTML = headerRow;

            // Create table body rows
            let tbodyHtml = '';
            for (let floor = 8; floor <= 31; floor++) {
                let rowHtml = `<tr><td>Floor ${floor}</td>`;
                for (let col = 1; col <= 24; col++) {
                    // Display the value from the floorData object
                    rowHtml += `<td>${floorData[floor][col]}</td>`;
                }
                rowHtml += '</tr>';
                tbodyHtml += rowHtml;
            }
            monitorTable.querySelector('tbody').innerHTML = tbodyHtml;
        }

        /**
         * Renders the table for the data entry page with input fields.
         * The values can be edited by the user.
         */
        function renderDataEntryTable() {
            // Clear existing table content
            dataEntryTable.innerHTML = '';

            // Create table header
            let headerRow = '<tr><th>Floor</th>';
            for (let col = 1; col <= 24; col++) {
                headerRow += `<th>C${col}</th>`;
            }
            headerRow += '</tr>';
            dataEntryTable.querySelector('thead').innerHTML = headerRow;

            // Create table body rows with input fields
            let tbodyHtml = '';
            for (let floor = 8; floor <= 31; floor++) {
                let rowHtml = `<tr><td>Floor ${floor}</td>`;
                for (let col = 1; col <= 24; col++) {
                    // Create an input field for each cell
                    rowHtml += `<td><input type="text" class="data-input" data-floor="${floor}" data-col="${col}" value="${floorData[floor][col]}"></td>`;
                }
                rowHtml += '</tr>';
                tbodyHtml += rowHtml;
            }
            dataEntryTable.querySelector('tbody').innerHTML = tbodyHtml;

            // Attach event listeners to all input fields
            document.querySelectorAll('.data-input').forEach(input => {
                input.addEventListener('change', (event) => {
                    const floor = event.target.dataset.floor;
                    const col = event.target.dataset.col;
                    const value = event.target.value;
                    
                    // Update the floorData object with the new value
                    floorData[floor][col] = value;
                    console.log(`Updated floor ${floor}, column ${col} to: ${value}`);
                });
            });
        }

        /**
         * Switches the view to the specified page.
         * @param {HTMLElement} pageToShow - The page element to make visible.
         */
        function switchPage(pageToShow) {
            mainPage.classList.remove('active');
            monitorPage.classList.remove('active');
            dataEntryPage.classList.remove('active');
            pageToShow.classList.add('active');
        }

        // --- Event Listeners for Buttons ---

        // Show the monitor page
        monitorButton.addEventListener('click', () => {
            renderMonitorTable();
            switchPage(monitorPage);
        });

        // Show the data entry page
        enterValueButton.addEventListener('click', () => {
            renderDataEntryTable();
            switchPage(dataEntryPage);
        });

        // Back buttons
        monitorBackButton.addEventListener('click', () => {
            switchPage(mainPage);
        });
        dataEntryBackButton.addEventListener('click', () => {
            switchPage(mainPage);
        });

        // --- Initialization ---

        // Initialize the data when the application starts
        initializeData();
        // Initially show the main page
        switchPage(mainPage);
    </script>

</body>
</html>
